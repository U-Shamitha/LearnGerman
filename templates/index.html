<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Learn German</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
<div class="container mt-4">
  <div class="row">
    <!-- Left: Input -->
    <div class="col-md-5">
      <h2>English â†’ German</h2>
      <form method="post">
        <textarea name="text" class="form-control mb-2" rows="4" placeholder="Type English here">{{ english_input }}</textarea>

        <div class="mb-2">
          <label class="form-label">Phonetics style:</label>
          <select name="phonetic" class="form-select">
            <option value="english" {% if selected_style=='english' %}selected{% endif %}>English</option>
            <option value="german" {% if selected_style=='german' %}selected{% endif %}>German</option>
          </select>
        </div>

        <div class="mb-2">
          <label class="form-label">Audio speed:</label>
          <select name="speed" class="form-select">
            <option value="slow" {% if speed=='slow' %}selected{% endif %}>Slow</option>
            <option value="normal" {% if speed=='normal' %}selected{% endif %}>Normal</option>
          </select>
        </div>

        <input type="hidden" name="last_german" value="{{ last_german }}">
        <button type="submit" class="btn btn-primary mt-2">Translate / Update</button>
      </form>
    </div>

    <!-- Right: Output -->
    <div class="col-md-7">
      <h3>German Sentence</h3>
      <p class="fw-bold text-primary">{{ german_sentence }}</p>

      <h4>Words & Meanings</h4>
      <div class="d-flex flex-wrap">
        {% for block in word_blocks %}
        <div class="word-card">
          <div class="german-word">{{ block.word }}</div>
          <div class="english-meaning">{{ block.meaning }}</div>
          <div class="phonetic">
            DE: {{ block.phonetic.de }}<br>
            EN: {{ block.phonetic.en }}
          </div>
          <audio controls class="w-100">
            <source src="{{ block.audio }}" type="audio/mpeg">
          </audio>
        </div>
        {% endfor %}
      </div>
    </div>
  </div>
</div>
</body>
</html>
